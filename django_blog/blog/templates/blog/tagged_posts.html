{% extends 'base.html' %}

{% block title %}Posts tagged "{{ tag.name }}" - Django Blog{% endblock %}

{% block content %}
<div class="card">
    <h2>Posts tagged "{{ tag.name }}"</h2>
    <p>{{ posts.count }} post{{ posts.count|pluralize }} found with this tag</p>
    <a href="{% url 'post_list' %}" class="link">‚Üê View all posts</a>
</div>

{% if posts %}
    {% for post in posts %}
        <div class="post-card">
            <h3 class="post-title">
                <a href="{% url 'post_detail' post.pk %}">{{ post.title }}</a>
            </h3>
            <div class="post-meta">
                By <a href="#">{{ post.author.username }}</a> | 
                {{ post.created_at|date:"F d, Y" }}
            </div>
            
            {% if post.tags.all %}
                <div class="tags-container">
                    {% for tag in post.tags.all %}
                        <a href="{% url 'tagged_posts' tag.slug %}" class="tag">{{ tag.name }}</a>
                    {% endfor %}
                </div>
            {% endif %}
            
            <div class="post-excerpt">
                {{ post.content|truncatewords:50 }}
            </div>
            <a href="{% url 'post_detail' post.pk %}" class="btn btn-primary btn-small">Read More</a>
        </div>
    {% endfor %}
